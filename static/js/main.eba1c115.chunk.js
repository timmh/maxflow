(this.webpackJsonpmaxflow=this.webpackJsonpmaxflow||[]).push([[0],{27:function(e,t,n){"use strict";n.r(t);t.default=[{label:"Edmonds-Karp",filename:"Edmonds-Karp"},{label:"Ford-Fulkerson (depth-first)",filename:"Ford\u2013Fulkerson-Depth-First"},{label:"Push-Relabel (generic)",filename:"Push-Relabel"}]},3:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorGrey:"#eee",colorHighlight:"gold",colorHandles:"red",highlightedLinesCount:"2",nodeSize:"50",autoStepInterval:"1000",stepTransitionDuration:"500",minWidthBigScreen:"1000px"}},40:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return f}));var a=n(9),r=n(7),o=function e(t,n){var a=this;Object(r.a)(this,e),this._edge=void 0,this._df=void 0,this.apply=function(){a._edge._cyEdge.data("flow",a._edge._cyEdge.data("flow")+a._df)},this.inverse=function(){return new e(a._edge,-a._df)},this._edge=t,this._df=n},i=function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";Object(r.a)(this,e),this._edge=void 0,this._mode=void 0,this.apply=function(){"add"===n._mode?n._edge._cyEdge.addClass("highlighted").emit("restyle"):n._edge._cyEdge.removeClass("highlighted").emit("restyle")},this.inverse=function(){return new e(n._edge,"add"===n._mode?"remove":"add")},this._edge=t,this._mode=a},c=function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";Object(r.a)(this,e),this._node=void 0,this._mode=void 0,this.apply=function(){"add"===n._mode?n._node._cyNode.addClass("highlighted").emit("restyle"):n._node._cyNode.removeClass("highlighted").emit("restyle")},this.inverse=function(){return new e(n._node,"add"===n._mode?"remove":"add")},this._node=t,this._mode=a},l=function e(t,n){var a=this;Object(r.a)(this,e),this._node=void 0,this._dh=void 0,this.apply=function(){a._node._cyNode.data("height",a._node.getHeight()+a._dh)},this.inverse=function(){return new e(a._node,-a._dh)},this._node=t,this._dh=n},s=function e(t,n){var a=this;Object(r.a)(this,e),this._node=void 0,this._de=void 0,this.apply=function(){a._node._cyNode.data("excess",a._node.getExcess()+a._de)},this.inverse=function(){return new e(a._node,-a._de)},this._node=t,this._de=n},u=function e(t){var n=this;Object(r.a)(this,e),this._graphMutations=void 0,this.apply=function(){n._graphMutations.forEach((function(e){e.apply()}))},this.inverse=function(){return new e(Object(a.a)(n._graphMutations).reverse().map((function(e){return e.inverse()})))},this._graphMutations=t},d=function e(t){var n=this;Object(r.a)(this,e),this._cyEdge=void 0,this.getCapacity=function(){return n._cyEdge.data("capacity")},this.getFlow=function(){return n._cyEdge.data("flow")},this.getReverseEdge=function(){return new e(n._cyEdge.parallelEdges().difference(n._cyEdge.codirectedEdges())[0])},this.getSourceNode=function(){return new h(n._cyEdge.source())},this.getTargetNode=function(){return new h(n._cyEdge.target())},this.getId=function(){return n._cyEdge.id()},this.isEqualTo=function(e){return n._cyEdge.id()===e._cyEdge.id()},this._cyEdge=t},h=function e(t){var n=this;Object(r.a)(this,e),this._cyNode=void 0,this.getOutgoingEdges=function(){return n._cyNode.outgoers("edge").sort((function(e,t){var n=e.target().data("label"),a=t.target().data("label");return n<a?-1:n>a?1:0})).toArray().map((function(e){return new d(e)}))},this.getType=function(){return"source"===n._cyNode.data("type")?"source":"sink"===n._cyNode.data("type")?"sink":"default"},this.getLabel=function(){return"".concat(n._cyNode.data("label"))},this.getHeight=function(){var e=n._cyNode.data("height");return"number"===typeof e?e:0},this.getExcess=function(){var e=n._cyNode.data("excess");return"number"===typeof e?e:0},this.getId=function(){return n._cyNode.id()},this.isEqualTo=function(e){return n._cyNode.id()===e._cyNode.id()},this._cyNode=t},f=function e(t){var n=this;Object(r.a)(this,e),this._cy=void 0,this.getSourceNode=function(){return new h(n._cy.nodes('.graph-node[type="source"]')[0])},this.getSinkNode=function(){return new h(n._cy.nodes('.graph-node[type="sink"]')[0])},this.getNodes=function(){return n._cy.nodes(".graph-node").map((function(e){return new h(e)}))},this.getEdges=function(){return n._cy.edges(".graph-edge").map((function(e){return new d(e)}))},this._cy=t}},62:function(e,t,n){e.exports=n(95)},67:function(e,t,n){},69:function(e,t,n){e.exports={colorBlack:"#000",colorWhite:"#fff",colorGrey:"#eee",colorHighlight:"gold",colorHandles:"red",highlightedLinesCount:"2",nodeSize:"50",autoStepInterval:"1000",stepTransitionDuration:"500",minWidthBigScreen:"1000px"}},94:function(e,t,n){var a={"./Edmonds-Karp.ts":[96,3],"./Ford\u2013Fulkerson-Depth-First.ts":[97,4],"./Push-Relabel.ts":[98,5],"./index.ts":[27]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=94,e.exports=r},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),i=n.n(o),c=(n(67),n(11)),l=n.n(c),s=n(16),u=n(10),d=n(9),h=n(4),f=(n(69),n(49)),g=n.n(f),p=n(3),m=function(e){var t=e.algorithm,n=e.highlightedLines,o=e.algorithmPseudocodeArgs,i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=i.current;e&&(e.innerHTML="",g.a.render(t.pseudocode(o),e,{lineNumber:!0}))}),[t,o]),Object(a.useEffect)((function(){var e=i.current;e&&(e.querySelectorAll(".ps-line").forEach((function(e){for(var t=0;t<p.highlightedLinesCount;t++)e.classList.remove("ps-line--highlighted-".concat(t))})),e.querySelectorAll(".ps-line").forEach((function(e,t){n.forEach((function(n,a){var r="ps-line--highlighted-".concat(a);n.includes(t+1)?e.classList.add(r):e.classList.remove(r)}))})))}),[t,n]),Object(a.useEffect)((function(){var e=i.current;e&&e.querySelectorAll(".ps-line").forEach((function(e,n){t.labeledBlocks.forEach((function(t){n+1===t.lines[0]&&e.setAttribute("data-block-label","// ".concat(t.label)),n+1>=t.lines[0]&&n<t.lines[1]&&e.style.setProperty("--block-color",t.color)}))}))}),[t]),r.a.createElement("div",{className:"pseudocode"},r.a.createElement("div",{ref:i}))},y=n(13),v=n(14),b={queue:"Queue",stack:"Stack"},E={queue:"q",stack:"u"},_=function(e){var t=e.nodes,n=e.mode;return r.a.createElement("div",{className:"node-queue-stack-visualization"},r.a.createElement("span",{className:"node-queue-stack-visualization__title"},"".concat(b[n]," ").concat(E[n]," = ")),r.a.createElement("div",{className:"node-queue-stack-visualization__elements"},r.a.createElement("div",{className:"node-queue-stack-visualization__elements-front"},r.a.createElement("div",{className:"node-queue-stack-visualization__element"},"queue"===n&&r.a.createElement(y.a,{size:"sm",icon:v.a,style:{margin:"0.2em"}}),"queue"===n?"out":"bottom"),t.map((function(e){return r.a.createElement("div",{key:e.getId(),className:"node-queue-stack-visualization__element"},r.a.createElement("div",{className:"node-queue-stack-visualization__label node-queue-stack-visualization__label--type-".concat(e.getType())},e.getLabel()))}))),r.a.createElement("div",{className:"node-queue-stack-visualization__elements-back"},r.a.createElement("div",{className:"node-queue-stack-visualization__element"},"queue"===n&&r.a.createElement(y.a,{size:"sm",icon:v.a,style:{margin:"0.2em"}}),"queue"===n?"in":"top"))))},w=function(e){var t=e.state,n=e.setState,a=e.stepBackward,o=e.stepForward,i=e.reset,c=e.algorithms,l=e.currentAlgorithm,s=e.setCurrentAlgorithm;return r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"controls__buttons"},r.a.createElement("button",{title:"Step Backward",className:"controls__button",onClick:function(){n("manual"),a&&a()},disabled:"auto"===t||!a},r.a.createElement(y.a,{size:"2x",icon:v.d})),"auto"!==t?r.a.createElement("button",{title:"Start",className:"controls__button",onClick:function(){return n("auto")},disabled:"finished"===t},r.a.createElement(y.a,{size:"2x",icon:v.c})):r.a.createElement("button",{title:"Pause",className:"controls__button",onClick:function(){return n("manual")}},r.a.createElement(y.a,{size:"2x",icon:v.b})),r.a.createElement("button",{title:"Step Forward",className:"controls__button",onClick:function(){n("manual"),o&&o()},disabled:"auto"===t||!o},r.a.createElement(y.a,{size:"2x",icon:v.e})),r.a.createElement("button",{title:"Reset",className:"controls__button",disabled:"stopped"===t,onClick:function(){return i()}},r.a.createElement(y.a,{size:"2x",icon:v.f}))),r.a.createElement("div",{className:"controls__select"},r.a.createElement("select",{value:l,onChange:function(e){s(e.target.value)},disabled:"stopped"!==t},c.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))))};var k=function(e,t,n){var r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=e}),[e,n]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){r&&r.current&&r.current()}),t);return function(){return clearInterval(e)}}}),[t])},O=n(59),j=n(5),N=n.n(j),S=function(e){var t=e.split("\n").map((function(e){return e.trim()})).filter((function(e){return!e.startsWith("#")})).map((function(e){return e.split(/\W/).filter((function(e){return e.length>0}))})),n=t.filter((function(e){return 1===e.length||2===e.length})).map((function(e){var t="default";if("source"===e[1])t="source";else if("sink"===e[1])t="sink";else if(void 0!==e[1])throw new Error("Invalid node type: ".concat(e[1]));return{data:{id:e[0],label:e[0],type:t},group:"nodes",classes:"graph-node"}})),a=t.filter((function(e){return 3===e.length})).map((function(e){return{data:{id:"".concat(e[0],"-").concat(e[1]),source:e[0],target:e[1],capacity:parseInt(e[2],10)||0,flow:0},group:"edges",classes:"graph-edge"}}));return a.forEach((function(e){if(1!==n.filter((function(t){return t.data.id===e.data.source})).length)throw new Error("Invalid graph: there is no single node with id ".concat(e.data.source));if(1!==n.filter((function(t){return t.data.id===e.data.target})).length)throw new Error("Invalid graph: there is no single node with id ".concat(e.data.target));0===a.filter((function(t){return e.data.source===t.data.target&&e.data.target===t.data.source})).length&&a.push({data:{id:"".concat(e.data.target,"-").concat(e.data.source),source:e.data.target,target:e.data.source,capacity:0,flow:0},group:"edges",classes:"graph-edge"})})),[].concat(Object(d.a)(n),Object(d.a)(a))},x=function(e){return[e.nodes(".graph-node").map((function(e){return[e.data("label"),"default"!==e.data("type")?e.data("type"):null].filter((function(e){return!!e})).join(" ")})).join("\n"),e.edges(".graph-edge").filter((function(e){return e.data("capacity")>0})).map((function(e){return[e.source().data("label"),e.target().data("label"),e.data("capacity")].join(" ")})).join("\n")].join("\n")},C=function(e){if(1!==e.nodes('node[type="source"]').length||1!==e.nodes('node[type="sink"]').length)throw new Error("Graph must have exactly one source node and one sink node")};var M=function(e){var t=e.choices,n=void 0===t?[]:t,a=e.activeChoice,o=e.onChoose;return r.a.createElement("div",{className:"switch"},n.map((function(e){return r.a.createElement("button",{key:e.value,className:"switch__button",disabled:e.value===a,onClick:function(){return o(e.value)}},e.label)})))},z={stroke:"#000000",strokeWidth:"3px",strokeLinecap:"round",fill:"none"},D=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(!1),n=Object(a.useRef)(0),o=Object(a.useRef)(0),i=Object(a.useCallback)((function(){if(e.current){var a="M"+Object(d.a)(Array(150).keys()).map((function(e){var t=e*(80/150)+10,a=25+10*Math.min(1,Math.pow(Math.min(e,150-e)/50,2))*Math.sin((e+2+n.current)/10);return"".concat(t,",").concat(a)})).join(" L");e.current.setAttribute("d",a),t.current?o.current=Math.min(.5,1.1*Math.max(.1,o.current)):o.current*=.95,o.current>.001?(n.current+=o.current,requestAnimationFrame(i)):o.current=0}}),[]);return Object(a.useEffect)((function(){i()}),[i]),r.a.createElement("div",{className:"header",onMouseEnter:function(){t.current=!0,0===o.current&&i()},onMouseLeave:function(){t.current=!1}},r.a.createElement("svg",{className:"header__icon",viewBox:"".concat(0," ",0," ",100," ").concat(50)},r.a.createElement("path",{ref:e,style:z,d:""}),r.a.createElement("path",{style:z,d:["M".concat(10,",").concat(25," l").concat(12.5,",").concat(-12.5),"M".concat(10,",").concat(25," l").concat(12.5,",").concat(12.5),"M".concat(90,",").concat(25," l").concat(-12.5,",").concat(-12.5),"M".concat(90,",").concat(25," l").concat(-12.5,",").concat(12.5)].join(" ")})),r.a.createElement("h1",null,"Maxflow Algorithm Visualization"))},I=n(25),L=function(e){var t=e.title,n=e.size,o=e.children,i=Object(a.useState)(!1),c=Object(h.a)(i,2),l=c[0],s=c[1],u=Object(a.useCallback)((function(){s(!l)}),[l]);return r.a.createElement("div",{className:"dropdown dropdown--size-".concat(n)},r.a.createElement("button",{className:"dropdown__button",onClick:function(e){e.stopPropagation(),e.preventDefault(),u()}},r.a.createElement("span",null),r.a.createElement("span",null,t),r.a.createElement("span",null,l?"\u25b2":"\u25bc")),l&&r.a.createElement("div",{className:"dropdown__content",onClick:function(e){e.stopPropagation(),e.preventDefault(),u()}},o))},R=function(e){var t=e.checked,n=e.onChange,a=e.children;return r.a.createElement("label",{className:"checkbox",onClick:function(){return n(!t)}},r.a.createElement("input",{type:"checkbox",checked:t,onChange:function(e){return n(e.target.checked)}}),a)},q=function(e){var t=e.autoLayout,n=e.setAutoLayout,a=e.onImport,o=e.onExport,i=e.onExportPng,c=e.graphDisplayState,l=e.setGraphDisplayState,s=Object(I.useMediaQuery)({query:"(min-width: ".concat(p.minWidthBigScreen,")")});return r.a.createElement("div",{className:"graph-controls"},s&&r.a.createElement(D,null),r.a.createElement(L,{title:"Layout",size:"m"},r.a.createElement(R,{checked:t,onChange:function(e){return n(e)}},"Automatic Layout")),r.a.createElement(L,{title:"I/O",size:"s"},r.a.createElement("button",{onClick:function(){return a()}},"Import"),r.a.createElement("button",{onClick:function(){return o()}},"Export"),r.a.createElement("button",{onClick:function(){return i()}},"Export PNG")),r.a.createElement(M,{choices:[{value:"flow",label:"Flow"},{value:"residual",label:"Residual"},{value:"original_flow",label:"Original"}],activeChoice:c,onChoose:function(e){return l(e)}}))},P=n(35),T=n.n(P),A=n(40),H=n(7),B=n(50),F=n(26),G=n(61),Q=n(60),U=n(17),K=n.n(U),W=n(51),V=n.n(W),X=n(52),J=n.n(X),Z=n(53),Y=n.n(Z),$=n(54),ee=n.n($),te=n(55),ne=n.n(te);K.a.use(V.a),K.a.use(J.a),K.a.use(ee.a),ne()(K.a);var ae=function(e){return"#".concat(encodeURIComponent((t=x(e),btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""))));var t},re=function(e){if(!e.startsWith("#"))throw new Error("invalid hash");return S((t=decodeURIComponent(e.substr(1)),atob((t+"===").slice(0,t.length+t.length%4).replace(/-/g,"+").replace(/_/g,"/"))));var t},oe=function(e){Object(G.a)(n,e);var t=Object(Q.a)(n);function n(e){var a;return Object(H.a)(this,n),(a=t.call(this,e)).container=null,a.cy=null,a.layout=null,a.edgehandles=null,a.menus={},a.readyPromise=void 0,a.getEdgeLabel=function(e){if("number"!==typeof e.data("flow")||"number"!==typeof e.data("capacity"))return"";var t=a.props.graphDisplayState;return"flow"===t?"".concat(e.data("flow"),"/").concat(e.data("capacity")):"residual"===t?"".concat(e.data("capacity")-e.data("flow")):"original_flow"===t?"".concat(0,"/",e.data("capacity")):""},a.getEdgeCurveStyle=function(e){return e.parallelEdges().difference(e.codirectedEdges()).filter((function(e){return"visible"===a.getEdgeVisibility(e)})).length>0?"bezier":"straight"},a.getEdgeVisibility=function(e){if("number"!==typeof e.data("flow")||"number"!==typeof e.data("capacity"))return"hidden";var t=a.props.graphDisplayState,n=a.state.interactionDisabled;return"flow"===t?n&&0===e.data("capacity")&&0===e.data("flow")?"hidden":"visible":"residual"===t&&e.data("capacity")-e.data("flow")===0?"hidden":"visible"},a.getHighlightColor=function(){return"original_flow"===a.props.graphDisplayState?p.colorBlack:p.colorHighlight},a.restyle=function(){a.cy&&a.cy.style(a.getStyle())},a.getStyle=function(){return[{selector:".graph-node",style:{width:p.nodeSize,height:p.nodeSize,"text-valign":"center","text-halign":"center","font-family":"KaTeX_Math","border-width":3,"border-color":p.colorBlack,"border-style":function(e){return"source"===e.data().type?"double":"sink"===e.data().type?"dashed":"solid"},"background-color":"white","transition-property":"border-color","transition-duration":p.stepTransitionDuration,"transition-timing-function":"ease"}},{selector:".graph-node.highlighted",style:{"border-color":function(){return a.getHighlightColor()}}},{selector:".graph-edge",style:{"target-arrow-shape":"triangle",color:p.colorBlack,"line-color":p.colorBlack,"target-arrow-color":p.colorBlack,"text-background-color":"white","text-background-opacity":1,"text-background-shape":"roundrectangle","font-family":"KaTeX_Math","font-size":12,label:function(e){return a.getEdgeLabel(e)},"curve-style":function(e){return a.getEdgeCurveStyle(e)},visibility:function(e){return a.getEdgeVisibility(e)},"transition-property":"line-color, target-arrow-color","transition-duration":p.stepTransitionDuration,"transition-timing-function":"ease"}},{selector:".graph-edge.highlighted",style:{"line-color":function(){return a.getHighlightColor()},"target-arrow-color":function(){return a.getHighlightColor()}}},{selector:".eh-handle",style:{"background-color":p.colorHandles,width:12,height:12,shape:"ellipse","overlay-opacity":0,"border-width":12,"border-opacity":0}},{selector:".eh-hover",style:{"background-color":p.colorHandles}},{selector:".eh-source",style:{"border-color":p.colorHandles}},{selector:".eh-target",style:{"border-color":p.colorHandles}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":p.colorHandles,"line-color":p.colorHandles,"target-arrow-color":p.colorHandles,"source-arrow-color":p.colorHandles}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}}]},a.reset=function(){if(a.container){a.cy&&a.cy.destroy(),a.container.innerHTML="";var e=re("#cyBzb3VyY2UKYQpiCmMKZAplCnQgc2luawpzIGEgMwpzIGMgMwphIGIgNApiIHMgMwpiIGMgMQpiIGQgMgpjIGQgMgpjIGUgNgpkIGEgMQpkIHQgMQplIHQgOQ");if(window.location.hash)try{e=re(window.location.hash)}catch(t){N.a.fire("Error","Unable to read graph from URL. The default graph was loaded.","error")}a.cy=K()({elements:e,container:a.container,boxSelectionEnabled:!1,minZoom:.5,maxZoom:5,wheelSensitivity:.1,style:a.getStyle()}),a.cy.nodeHtmlLabel([{query:".graph-node",fontFamily:"KaTeX_Math",tpl:function(e){var t="number"===typeof e.height||"number"===typeof e.excess;return'\n          <div style="\n            font-family: KaTeX_Math;\n            text-align: center;\n            line-height: 12px;\n          " class="cytoscape-html-node-label-'.concat(e.id,'">\n          <div style="font-size: ').concat(t?12:16,'px;">').concat(e.label,"</div>\n          ").concat("number"===typeof e.height?'<div style="font-size: 10px;">h='.concat(e.height,"</div>"):"","\n          ").concat("number"===typeof e.excess?'<div  style="font-size: 10px;">e='.concat(e.excess,"</div>"):"","\n          </div>\n        ")}}]),a.cy.on("add remove data",".graph-node, .graph-edge",(function(){if(a.restyle(),a.cy&&!a.state.interactionDisabled){a.props.onChange&&a.props.onChange();var e=ae(a.cy);window.history.pushState?window.history.replaceState(null,document.title,e):window.location.hash=e}})),a.cy.on("remove",".graph-node",(function(e){var t=e.target.id();setTimeout((function(){Array.from(document.querySelectorAll(".cytoscape-html-node-label-".concat(t))).forEach((function(e){e.remove()}))}),100)})),a.cy.on("restyle",(function(){a.restyle()})),a.resetLayout(),a.state.interactionDisabled||a.enableMenus(),a.edgehandles=a.cy.edgehandles({preview:!1,handleNodes:".graph-node",hideHandleOnSourceNodeMove:!1,edgeParams:function(){return{data:{flow:0,capacity:0},classes:"graph-edge"}},edgeType:function(e,t){return e.outgoers().intersection(t).length>0?null:"flat"},complete:function(e,t,n){n.filter((function(e){return e.hasClass("graph-edge")})).forEach((function(e){0===a.cy.edges(".graph-edges").filter((function(t){return t.data("source")===e.data("target")&&t.data("target")===e.data("source")})).length&&a.cy.add({data:{source:e.data("target"),target:e.data("source"),flow:0,capacity:1},group:"edges",classes:"graph-edge"})})),a.restyle(),a.resetLayout()}}),a.props.visualizationRef&&a.props.visualizationRef(Object(F.a)(a))}},a.enableMenus=function(){a.menus.nodeMenu=a.cy.cxtmenu({menuRadius:2*p.nodeSize,selector:".graph-node",commands:[{content:"Remove",select:function(e){return e.remove()}},{content:"Rename",select:function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.fire({input:"text",inputValue:t.data("label"),title:"Rename",showCancelButton:!0});case 2:n=e.sent,(a=n.value)&&t.data("label",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{content:"Change Type",select:function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.fire({title:"Change Type",input:"select",inputOptions:{default:"Default",source:"Source",sink:"Sink"},inputValue:t.data("type"),showCancelButton:!0});case 2:n=e.sent,(a=n.value)&&t.data("type",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}),a.menus.edgeMenu=a.cy.cxtmenu({menuRadius:2*p.nodeSize,selector:".graph-edge",commands:[{content:"Remove",select:function(e){e.parallelEdges().remove()}},{content:"Reverse",select:function(e){var t=e.parallelEdges().difference(e.codirectedEdges())[0],n=e.data("capacity");e.data("capacity",t.data("capacity")),t.data("capacity",n)}},{content:"Change Capacity",select:function(){var e=Object(s.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.fire({input:"number",inputValue:t.data("capacity"),title:"Change Capacity",showCancelButton:!0});case 2:n=e.sent,a=n.value,r=parseInt(a,10),isNaN(r)||t.data("capacity",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]}),a.menus.coreMenu=a.cy.cxtmenu({menuRadius:2*p.nodeSize,selector:"core",commands:[{content:"Add Node",select:function(e,t){a.cy&&e===a.cy&&!a.state.interactionDisabled&&a.cy.add([{group:"nodes",data:{label:String.fromCharCode("a".charCodeAt(0)+Math.random()*("z".charCodeAt(0)-"a".charCodeAt(0))),type:"default"},classes:"graph-node",renderedPosition:{x:t.renderedPosition.x,y:t.renderedPosition.y}}])}}]})},a.disableMenus=function(){Object.values(a.menus).forEach((function(e){return e.destroy()}))},a.resetLayout=function(){a.cy&&(a.layout&&a.layout.stop(),a.layout=a.cy.layout({name:"cola",edgeLength:3*p.nodeSize,randomize:!1,infinite:!0,fit:!1,handleDisconnected:!1}),a.state.layoutRunning&&a.layout.run())},a.componentDidUpdate=function(e,t){t.interactionDisabled!==a.state.interactionDisabled&&a.cy&&(a.state.interactionDisabled?(a.disableMenus(),a.edgehandles.hide(),a.edgehandles.disable()):(a.enableMenus(),a.edgehandles.enable()),a.restyle()),e.graphDisplayState!==a.props.graphDisplayState&&a.restyle(),t.layoutRunning!==a.state.layoutRunning&&a.layout&&(a.state.layoutRunning?a.layout.run():a.layout.stop())},a.render=function(){return r.a.createElement("div",{className:"graph-visualization"},r.a.createElement("div",{className:"graph-visualization__overlay"}),r.a.createElement("div",{className:"graph-visualization__cytoscape",ref:function(e){a.readyPromise.then((function(){a.container||(a.container=e,a.reset())}))}}))},a.state=n.getDerivedStateFromProps(e,{}),a.readyPromise=new Y.a("KaTeX_Math").load(),a}return Object(B.a)(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){return Object(u.a)(Object(u.a)({},t),{},{layoutRunning:e.autoLayout,interactionDisabled:e.disableInteraction||"original_flow"===e.graphDisplayState})}}]),n}(r.a.Component);var ie=function(e,t){var n=Object(a.useState)(e||[]),r=Object(h.a)(n,2),o=r[0],i=r[1];return{queue:o,enqueue:function(e){i([e].concat(Object(d.a)(o.slice(0,(t||o.length)-1))))},reset:function(e){i(e)}}},ce=n(27),le=function(e){var t=e.onTourPressed;return r.a.createElement("div",{className:"footer"},r.a.createElement("span",{role:"button",onClick:function(e){e.preventDefault(),t()}},"Take a Tour")," | ",r.a.createElement("a",{href:"https://github.com/timmh/maxflow"},"Code")," | ",r.a.createElement("a",{href:"https://github.com/timmh/maxflow/issues"},"Feedback")," | ",r.a.createElement("a",{href:"/docs"},"Docs"))},se=n(22),ue=n(39),de=n.n(ue),he=n(58),fe=n.n(he),ge=function(e){var t=e.references;return r.a.createElement("div",{className:"references"},r.a.createElement("h2",null,"Sources & Further Reading"),r.a.createElement("ul",{className:"references__list"},t.map((function(e){var t=e.label,n=e.url;return r.a.createElement("li",{key:"".concat(t,"-").concat(n),className:"references__item"},r.a.createElement("a",{href:n},t))}))))},pe={highlightedLines:[],linearNodes:[],graphMutations:[]},me={algorithmName:ce.default[0].filename,autoLayout:!0,graphDisplayState:"flow"};try{Object.assign(me,JSON.parse(localStorage.getItem("maxflow_preferences")))}catch(Ee){localStorage.removeItem("maxflow_preferences")}var ye=function(e){localStorage.setItem("maxflow_preferences",JSON.stringify(e))},ve=[{target:".graph-visualization__overlay",content:"\n      This is the flow network view.\n      Click/tap and hold to modify nodes and edges.\n      When hovering a node, drag the red handle to create new edges.\n    "},{target:".controls__select",content:"\n      Select an algorithm you wish to visualize\n    "},{target:".controls__buttons",content:"\n      Use these buttons to step forwards or backwards,\n      run to completion or reset the algorithm\n    "},{target:".pseudocode",content:"\n      This is the pseudocode of your algorithm\n    "},{target:".node-queue-stack-visualization",content:"\n      Depending on the selected algorithm, secondary data structures\n      are visualized here\n    "},{target:".graph-controls",content:"\n      Use these controls to disable automatic flow network layouting,\n      import and export your flow network and switch between\n      different flow network presentation options\n    "}].map((function(e){return Object(u.a)({disableBeacon:!0},e)})),be=function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),o=t[0],i=t[1],c=Object(a.useState)(me.algorithmName),f=Object(h.a)(c,2),g=f[0],y=f[1],v=Object(a.useState)(null),b=Object(h.a)(v,2),E=b[0],j=b[1];Object(a.useEffect)((function(){n(94)("./".concat(g,".ts")).then((function(e){return j(e.default)}))}),[g,j]);var z=Object(a.useState)(null),L=Object(h.a)(z,2),R=L[0],P=L[1],H=function(){E&&o&&o.cy&&P(E.implementation(new A.a(o.cy)))};Object(a.useEffect)(H,[E,o]);var B=Object(a.useState)("stopped"),F=Object(h.a)(B,2),G=F[0],Q=F[1],U=Object(a.useState)(me.autoLayout),K=Object(h.a)(U,2),W=K[0],V=K[1],X=Object(a.useState)(me.graphDisplayState),J=Object(h.a)(X,2),Z=J[0],Y=J[1],$=ie(pe.highlightedLines,p.highlightedLinesCount),ee=$.queue,te=$.enqueue,ne=$.reset,ae=Object(a.useState)([pe]),re=Object(h.a)(ae,2),ue=re[0],he=re[1],be=Object(a.useState)(0),_e=Object(h.a)(be,2),we=_e[0],ke=_e[1],Oe=ue[we].linearNodes,je=Object(a.useState)({sourceName:"s",sinkName:"t"}),Ne=Object(h.a)(je,2),Se=Ne[0],xe=Ne[1],Ce=Object(a.useState)(!1),Me=Object(h.a)(Ce,2),ze=Me[0],De=Me[1],Ie=Object(I.useMediaQuery)({query:"(min-width: ".concat(p.minWidthBigScreen,")")}),Le=Object(a.useState)("graph"),Re=Object(h.a)(Le,2),qe=Re[0],Pe=Re[1],Te=function(){if(R&&o){try{C(o.cy)}catch(Ee){return void N.a.fire("Error",Ee.toString(),"error")}var e;if(we>=ue.length-1){var t=R.next();e=t.value,he([].concat(Object(d.a)(ue),[t.value])),ke(we+1)}else e=ue[we+1],ke(we+1);if(e){var n=e,a=n.highlightedLines,r=void 0===a?[]:a,i=n.graphMutations,c=void 0===i?[]:i;n.done&&Q("finished"),te(r),o.cy.batch((function(){c.forEach((function(e){return e.apply()}))}))}}};k((function(){"auto"===G&&Te()}),p.autoStepInterval,[R,G,Q]);var Ae=Object(a.useCallback)((function(){var e,t,n,a,r,i;o&&o.cy&&xe({sourceName:null!==(e=null===o||void 0===o||null===(t=o.cy)||void 0===t||null===(n=t.nodes('.graph-node[type="source"]')[0])||void 0===n?void 0:n.data("label"))&&void 0!==e?e:"s",sinkName:null!==(a=null===o||void 0===o||null===(r=o.cy)||void 0===r||null===(i=r.nodes('.graph-node[type="sink"]')[0])||void 0===i?void 0:i.data("label"))&&void 0!==a?a:"t"})}),[o]);Object(a.useEffect)((function(){Ae()}),[Ae]);var He=Object(a.useCallback)((function(e){e.status!==se.a.FINISHED&&e.status!==se.a.SKIPPED||De(!1)}),[]),Be=Object(a.useCallback)((function(e){if(1===e.length)if("stopped"===G){var t=new FileReader;t.onabort=function(){return N.a.fire("Error","File reading was aborted","error")},t.onerror=function(){return N.a.fire("Error","File reading has failed","error")},t.onload=function(){if("string"!==typeof t.result)N.a.fire("Error","File reading has failed","error");else try{var e=S(t.result);o.cy.json({elements:e}),o.resetLayout()}catch(Ee){N.a.fire("Error","Parsing error: ".concat(Ee.toString()),"error")}},t.readAsText(e[0])}else N.a.fire("Error","Can only import a graph if visualization is stopped","error");else N.a.fire("Error","Can only import a single graph at a time","error")}),[G,o]),Fe=Object(O.a)({onDrop:Be,noClick:!0}),Ge=Fe.getRootProps,Qe=Fe.getInputProps,Ue=Fe.open;return null===E?null:r.a.createElement("div",Object.assign({className:"app"},Ge()),r.a.createElement("input",Qe()),!Ie&&r.a.createElement("div",{className:"view-switch"},r.a.createElement(D,null),r.a.createElement(M,{onChoose:function(e){return Pe(e)},activeChoice:qe,choices:[{value:"graph",label:"Network"},{value:"algorithm",label:"Algorithm"}]})),r.a.createElement("div",{className:"app__content-wrapper"},r.a.createElement("div",{className:"app__content"},r.a.createElement("div",{className:de()("app__left",{"app__left--hidden":!Ie&&"graph"!==qe})},r.a.createElement(q,{autoLayout:W,setAutoLayout:function(e){V(e),ye(Object(u.a)(Object(u.a)({},me),{},{autoLayout:e}))},onImport:function(){return Ue()},onExport:function(){return o&&T.a.saveAs(new Blob([x(o.cy)],{type:"text/plain;charset=utf-8"}),"graph.tgf",{autoBom:!0})},onExportPng:function(){Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o){e.next=3;break}return e.abrupt("return");case 3:if(t=document.querySelector(".graph-visualization__cytoscape")){e.next=6;break}throw new Error("Unable to export node labels");case 6:return o.edgehandles.hide(),e.next=9,fe.a.toBlob(t);case 9:n=e.sent,T.a.saveAs(n,"graph.png"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),N.a.fire("Error","The image export failed","error");case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},graphDisplayState:Z,setGraphDisplayState:function(e){Y(e),ye(Object(u.a)(Object(u.a)({},me),{},{graphDisplayState:e}))}}),r.a.createElement(oe,{visualizationRef:function(e){i(e)},onChange:function(){return Ae()},disableInteraction:"stopped"!==G,autoLayout:W,graphDisplayState:Z})),r.a.createElement("div",{className:de()("app__right",{"app__right--hidden":!Ie&&"algorithm"!==qe})},r.a.createElement("div",{className:"app__right__header"}),r.a.createElement(w,{state:G,setState:Q,stepBackward:we>-1?function(){if(R&&o&&-1!==we){var e=ue[we],t=ue[we-1];ke(we-1),o.cy.batch((function(){(e.graphMutations||[]).slice().reverse().forEach((function(e){return e.inverse().apply()}))}));var n=t.highlightedLines;ne([void 0===n?[]:n])}}:void 0,stepForward:"finished"!==G?Te:void 0,reset:function(){o&&o.cy&&(o.cy.batch((function(){ue.slice().reverse().forEach((function(e){(e.graphMutations||[]).slice().reverse().forEach((function(e){return e.inverse().apply()}))})),o.cy.$(".graph-node").removeData("height excess")})),Q("stopped"),ne([]),he([pe]),ke(0),H())},algorithms:ce.default.map((function(e){return{label:e.label,value:e.filename}})),currentAlgorithm:g,setCurrentAlgorithm:function(e){y(e),ye(Object(u.a)(Object(u.a)({},me),{},{algorithmName:e}))}}),r.a.createElement("div",{className:"app__right__contents"},r.a.createElement(m,{algorithm:E,highlightedLines:ee,algorithmPseudocodeArgs:Se}),"none"!==E.linearDataStructure?r.a.createElement(_,{nodes:Oe,mode:E.linearDataStructure}):r.a.createElement("div",{className:"horizontal-divider"}),r.a.createElement(ge,{references:E.references})),r.a.createElement(le,{onTourPressed:function(){De(!0)}})))),r.a.createElement(se.b,{continuous:!0,run:ze,callback:He,scrollToFirstStep:!0,showProgress:!0,showSkipButton:!0,steps:ve}))};i.a.render(r.a.createElement(be,null),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.eba1c115.chunk.js.map